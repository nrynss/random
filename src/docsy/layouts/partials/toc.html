{{ $headers := findRE "<h[1-6].*?>(.+?)</h[1-6]>" .Content -}}
    {{ $has_headers := ge (len $headers) 1 -}}
    {{ if $has_headers -}}
    <div class="td-toc">
        {{ $toc := .TableOfContents | replaceRE "HAHAHUGOSHORTCODE[^H]+HBHB" "" }}
        {{ safeHTML $toc }}
    </div>
    {{ end -}}